<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Language" content="pt-br, en, fr, it" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Required meta tag -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Required meta tag -->

    <title>Login - Snaps</title>
    
    <link rel="icon" href="../assets/images/logo-snaps-navbar.jpg">

    <!-- Bootstrap CSS -->
    <!-- Bootstrap Header -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css'><link rel="stylesheet" href="./style.css">
    <!-- Bootstrap CSS -->

    <!-- Início Font Awesome CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <!-- Fim Font Awesome CSS -->

    <!-- Início Font Google -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quicksand">
    <!-- Fim Font Google -->

    <!-- Icons -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <!-- Icons -->

    <!-- Select Cadastro -->
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.2/chosen.min.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css'>
    <!-- Select Cadastro -->

    <!--Folha de estilo CSS-->
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/geral.css">
    <link rel="stylesheet" href="../css/all.css">
    <!--Folha de estilo CSS-->
  </head>

  <body class="hero-anime">

    <!-- Inicio do Header -->
    <header class="navigation-wrap start-header start-style">
      <div class="row">
        <div class="col-12">
          <nav class="navbar navbar-expand-md navbar-dark">
          
            <!-- Imagem Logo -->
            <a class="navbar-brand scroll-link" href="index.html" target=""><img src="../assets/images/logo-snaps-rmbg.png" alt=""></a>

            <!-- Menu Hamburguer -->
            <button class="navbar-toggler" data-toggle="collapse" data-target="#navbar-target">
              <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navegação -->
            <div id="navbar-target" class="collapse navbar-collapse itens-menu">
              <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                  <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item nav-item-x">
                  <a class="nav-link dropdown-toggle simulador-link" data-toggle="dropdown" href="#simuladores" role="button" aria-haspopup="true" aria-expanded="false">Simulador</a>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" href="simulador-cardiorespiratorio.html"><span>Cardiorespiratório</span></a>
                    <a class="dropdown-item" href="simulador-gastrointestinal.html"><span>Gastrointestinal</span></a>
                    <a class="dropdown-item" href="simulador-metabolismo.html"><span>Metabolismo</span></a>
                    <a class="dropdown-item" href="simulador-olhos.html"><span>Olhos</span></a>
                    <a class="dropdown-item" href="simulador-urogenital.html" style="border-bottom: none;"><span>Urogenital</span></a>
                  </div>
                </li>
                <!--<li class="nav-item">
                  <a href="exercicios.html" class="nav-link">Exercícios</a>
                </li>-->
                <li class="nav-item">
                  <a href="sobre.html" class="nav-link">Sobre</a>
                </li>
                <li class="divisoria-nav-links">
                  <div class="nav-link">|</div>
                </li>
                <li class="nav-item active">
                  <a href="#" class="nav-link">Entrar</a>
                </li>
                <li class="text-box">
                  <a href="cadastro.html" class="btn btn-white btn-animate nav-link"><h3>Cadastre-se</h3></a>
                </li>
              </ul>
            </div>
          </nav>    
        </div>
      </div>
    </header>
    <!-- Fim do Header -->

    <!-- Page preloader -->
    <!--<div id="pre-loader">
      <div id="loader-circle"></div>
      <div class="loader-section"></div>
    </div>-->
    <!-- Fim Page preloader -->

    <!-- Início Log In | Cadastro -->
    <div class="container-lg">
      <div class="overlay" id="overlay">
        <div class="sign-up" id="sign-up">
          <h1>É novo aqui?</h1>
          <p>Cadastre-se para criar uma nova conta</p>
          <button class="switch-button slide" id="slide-right-button">Cadastre-se</button>
        </div>

        <div class="sign-in" id="sign-in">
          <h1>Bem vindo!</h1>
          <p>Faça o login em sua conta</p>
          <button class="switch-button slide" id="slide-left-button">Log In</button>
        </div>
      </div>

      <!--  -->
      <div class="form">
        <!-- SIGN IN -->
        <div class="sign-in" id="sign-in-info">
          <h1 class="gradient1">Seja bem-vindo</h1>

          <!-- FORMULÁRIO SIGN IN -->
          <form id="sign-in-form">
            <div class="form-group mb-4">
                <input type="email" placeholder="Email" name="email-input-sign-in" id="emailInputSignIn" required class="form-style">
                <i id="iconEmailSignIn" class="input-icon uil uil-at"></i>
            </div>
            <div id="errorMessageEmailSignIn" class="alert alert-danger d-none" role="alert"></div>

            <div class="form-group mb-4">
                <input type="password" placeholder="Senha" name="psw-input-sign-in" id="pswInputSignIn" required class="form-style">
                <i id="iconSenhaSignIn" class="input-icon uil uil-lock-alt"></i>
                <i id="eye-login" class="input-icon-pwd uil uil-eye"></i>
            </div>
            <div id="errorMessageSenhaSignIn" class="alert alert-danger d-none" role="alert"></div>

            <div class="box">
              <div class="box-div">
                <input id="checkboxLembrarUsuario" style="border: 5px solid blue;" class="type-checkbox" type="checkbox" name="name">
                <label class="estado" for="checkboxLembrarUsuario"></label>
                <label class="lembrar" for="checkboxLembrarUsuario">Lembrar de mim?</label>
              </div>

              <div class="forgot-password">
                  <a href="#openResetarSenha" id="esqueceuSenhaLink">Esqueceu a senha?</a>
              </div>
            </div>

            <div id="successMessageSignIn" class="alert alert-success d-none mt-3" role="alert"></div>

            <div class="mt-5">
              <button type="button" id="iniciarSessao" name="iniciarSessao" class="button-form slide-left-anim" data-hover="Iniciar sessão">Iniciar sessão</button>

              <button id="entrarGoogle" class="button-form slide-left-anim" data-hover="Entrar com uma conta Google">Entrar com uma conta Google</button>

              <button id="entrarInstagram" class="button-form slide-left-anim" data-hover="Entrar com o Instagram">Entrar com o Instagram</button>
            </div>
          </form>
          <!-- FIM FORMULÁRIO SIGN IN -->
        </div>
        <!-- FIM SIGN IN -->

        <!-- SIGN UP -->
        <div class="sign-up" id="sign-up-info">
          <h1 class="gradient1">Crie uma nova conta</h1>

          <!-- FORMULÁRIO SIGN UP -->
          <form id="sign-up-form" class="mb-3">
            <div class="form-group">
                <input type="nome" placeholder="Nome completo" name="nome-input-sign-up" id="nomeInputSignUp" required class="form-style">
                <i id="nomeIcon" class="input-icon uil uil-user"></i>
            </div>
            <div id="errorMessageNome" class="alert alert-danger d-none" role="alert"></div>

            <div class="form-group">
                <input type="email" placeholder="Email" name="email-input-sign-up" id="emailInputSignUp" required class="form-style">
                <i id="emailIcon" class="input-icon uil uil-at"></i>
            </div>
            <div id="errorMessageEmail" class="alert alert-danger d-none" role="alert"></div>

            <div class="form-group">
                <input type="password" placeholder="Senha" name="psw-input-sign-up" id="pswInputSignUp" required class="form-style">
                <i id="senhaIcon" class="input-icon uil uil-lock-alt"></i>
                <i id="eye-cadastro" class="input-icon-pwd uil uil-eye"></i>
            </div>
            <div id="errorMessageSenha" class="alert alert-danger d-none" role="alert"></div>

            <div class="form-group">
                <input type="password" name="confirm-password-input-cadastro" class="form-style" placeholder="Confirme sua senha" id="pswInputConfirmSignUp" autocomplete="off">
                <i id="confirmaSenhaIcon" class="input-icon uil uil-lock-alt"></i>
                <i id="eye-confirm-cadastro" class="input-icon-pwd uil uil-eye" ></i>
            </div>
            <div id="errorMessageConfirmaSenha" class="alert alert-danger d-none" role="alert"></div>

            <div class="form-group">
                <input type="text" placeholder="Departamento ou Universidade/Empresa" name="departamento-input-sign-up" id="departamentoInputSignUp" required class="form-style">
                <i id="departamentoIcon" class="input-icon uil uil-university"></i>
            </div>
            <div id="errorMessageDepartamento" class="alert alert-danger d-none" role="alert"></div>
          </form>
          <!-- FIM FORMULÁRIO SIGN UP -->

          <!-- SELECT BOX 1 -->
          <div class="chosen-wrapper icon-formacao" data-js="custom-scroll">
            <select id="formacao" class="chosen-select">
              <option value="">Escolha sua formação</option>
              <option>Estudante de graduação</option>
              <option>Estudante de pós-graduação</option>
              <option>Professor</option>
              <option>Pesquisadores</option>
              <option>Outros</option>
            </select>
          </div>
          <!-- FIM SELECT BOX 1 -->

          <!-- SELECT BOX 2 -->
          <div class="chosen-wrapper icon-objetivo" data-js="custom-scroll">
            <select id="objetivo" class="chosen-select">
              <option value="">Informe seu principal objetivo</option>
              <option>Aprender sobre fisiologia</option>
              <option>Aprender sobre farmacologia</option>
              <option>Ensinar alunos de graduação</option>
              <option>Ensinar alunos de pós-graduação</option>
              <option>Ensinar profissionais</option>
              <option>Demonstrar para pacientes</option>
              <option>Outros</option>
            </select>
          </div>
          <!-- FIM SELECT BOX 2 -->

          <div id="errorMessageForm" class="alert alert-danger d-none" role="alert"></div>

          <div id="successMessage" class="alert alert-success d-none" role="alert"></div>

          <!-- BOTÃO CADASTRO -->
          <button type="button" id="cadastrarse" name="cadastrarse" class="button-form slide-left-anim" data-hover="Cadastrar-se">Cadastrar-se</button>
          <!-- FIM BOTÃO CADASTRO -->

        </div>
        <!-- FIM SIGN UP -->
      </div>
      <!--  -->
    </div>
    <!-- Fim Log In | Cadastro -->

    <!-- Início Resetar Senha -->
    <div id="openResetarSenha" class="modalDialog">
      <div>
        <h4>Resetar Senha</h4>
        <input type="text" placeholder="Nova senha" name="novaSenha" id="novaSenha" required>

        <div class="d-flex">
          <a href="#close">
            <div class="flat-button grey">Close</div>
          </a>
          <button type="button" id="esqueceuSenhaConfirm" name="esqueceuSenhaConfirm">Criar nova senha</button>
        </div>
      </div>
    </div>
    <!-- Fim Resetar Senha -->

    <!-- Inicio do Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content pt-5 pb-5">
                <div class="row">
                    <div class="col-xl-4 col-lg-4">
                        <div class="footer-box">
                            <div class="footer-logo">
                                <img src="../assets/images/footer/snaps-logo-footer.png" class="img-fluid" alt="logo">
                            </div>
                            <div class="footer-text">
                                <p>Lorem ipsum dolor sit amet, consec tetur adipisicing elit, sed do eiusmod tempor incididuntut consec tetur adipisicing
                                elit,Lorem ipsum dolor sit amet.</p>
                            </div>

                            <div class="footer-contacts d-lg-block d-md-flex">
                                <div class="footer-contato col">
                                    <i class="fab fa-whatsapp"></i>
                                    <div class="contato-text">
                                        <h4>Celular</h4>
                                        <a href="tel:+5500000000000">00 00000-0000</a>
                                    </div>
                                </div>

                                <div class="footer-contato col">
                                    <i class="fas fa-phone"></i>
                                    <div class="contato-text">
                                        <h4>Telefone</h4>
                                        <a href="tel:+550000000000">00 0000-0000</a>
                                    </div>
                                </div>

                                <div class="footer-contato col">
                                    <i class="far fa-envelope-open"></i>
                                    <div class="contato-text">
                                        <h4>E-mail</h4>
                                        <a href="mailto:lorem@ipsum.com">lorem@ipsum.com</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-12">
                        <div class="footer-box">
                            <div class="d-flex">
                                <div class="links-footer">
                                    <div class="footer-box-links">
                                        <h3>Links Úteis</h3>
                                    </div>
                                    <ul>
                                        <li><a href="#">Home</a></li>
                                        <!-- <li><a href="#">Exercícios</a></li> -->
                                        <li><a href="#">Sobre</a></li>
                                    </ul>
                                </div>

                                <div class="links-footer">
                                    <div class="footer-box-links">
                                        <h3>Simuladores</h3>
                                    </div>
                                    <ul>
                                        <li><a href="simulador-cardiorespiratorio.html">Cardiorespiratório</a></li>
                                        <li><a href="simulador-gastrointestinal.html">Gastrointestinal</a></li>
                                        <li><a href="simulador-metabolismo.html">Metabolismo</a></li>
                                        <li><a href="simulador-olhos.html">Olhos</a></li>
                                        <li><a href="simulador-urogenital.html">Urogenital</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-12">
                        <div class="footer-box">
                            <div class="footer-btn">
                                <div class="footer-box-links">
                                    <h3>Lorem</h3>
                                </div>
                                <div class="footer-text mb-25">
                                    <p>Lorem ipsum dolor sit amet, consec tetur adipisicing elit.</p>
                                </div>
                                <div class="input-group button-footer">
                                   <input class="form-control" type="text" placeholder="lorem@ipsum.com" >
                                   <div class="input-group-append">
                                       <button class="btn" type="button">
                                            <i class="fas fa-paper-plane"></i>
                                        </button>
                                   </div>
                                </div>
                            </div>

                            <div class="footer-social-icon">
                                <h3>Redes sociais</h3>
                                <!-- <a href="#"><i class="fab fa-instagram instagram-bg"></i></a> -->

                                <div class="container-footer-icon">
                                  <a class="footer-icon instagram" href="" target="_blank">
                                   <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px"
                                      viewBox="0 0 551.034 551.034" xml:space="preserve">
                                      <g>
                                         <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="275.517" y1="4.57" x2="275.517" y2="549.72" gradientTransform="matrix(1 0 0 -1 0 554)">
                                         <stop  offset="0" style="stop-color:#E09B3D"/>
                                         <stop  offset="0.3" style="stop-color:#C74C4D"/>
                                         <stop  offset="0.6" style="stop-color:#C21975"/>
                                         <stop  offset="1" style="stop-color:#7024C4"/>
                                      </linearGradient>
                                      <path class="insta-square" style="fill:url(#SVGID_1_);" d="M386.878,0H164.156C73.64,0,0,73.64,0,164.156v222.722
                                         c0,90.516,73.64,164.156,164.156,164.156h222.722c90.516,0,164.156-73.64,164.156-164.156V164.156
                                         C551.033,73.64,477.393,0,386.878,0z M495.6,386.878c0,60.045-48.677,108.722-108.722,108.722H164.156
                                         c-60.045,0-108.722-48.677-108.722-108.722V164.156c0-60.046,48.677-108.722,108.722-108.722h222.722
                                         c60.045,0,108.722,48.676,108.722,108.722L495.6,386.878L495.6,386.878z"/>
                                      
                                         <linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="275.517" y1="4.57" x2="275.517" y2="549.72" gradientTransform="matrix(1 0 0 -1 0 554)">
                                         <stop  offset="0" style="stop-color:#E09B3D"/>
                                         <stop  offset="0.3" style="stop-color:#C74C4D"/>
                                         <stop  offset="0.6" style="stop-color:#C21975"/>
                                         <stop  offset="1" style="stop-color:#7024C4"/>
                                      </linearGradient>
                                      <path style="fill:url(#SVGID_2_);" d="M275.517,133C196.933,133,133,196.933,133,275.516s63.933,142.517,142.517,142.517
                                         S418.034,354.1,418.034,275.516S354.101,133,275.517,133z M275.517,362.6c-48.095,0-87.083-38.988-87.083-87.083
                                         s38.989-87.083,87.083-87.083c48.095,0,87.083,38.988,87.083,87.083C362.6,323.611,323.611,362.6,275.517,362.6z"/>
                                      
                                      <linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="418.31" y1="4.57" x2="418.31" y2="549.72" gradientTransform="matrix(1 0 0 -1 0 554)">
                                         <stop  offset="0" style="stop-color:#E09B3D"/>
                                         <stop  offset="0.3" style="stop-color:#C74C4D"/>
                                         <stop  offset="0.6" style="stop-color:#C21975"/>
                                         <stop  offset="1" style="stop-color:#7024C4"/>
                                      </linearGradient>
                                         <circle style="fill:url(#SVGID_3_);" cx="418.31" cy="134.07" r="34.15"/>
                                      </g>
                                   </svg>
                                  </a>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyright-area">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12 col-lg-12 text-center">
                        <div class="copyright-text">
                            <p>Copyright &copy; 2022, Todos os direitos reservados por <a href="https://www.unaerp.br/home-unaerp?campus=ribeirao" target="_blank" class="w700">Universidade de Ribeirão Preto</a>.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Fim do Footer -->

    <!-- Inicio botão voltar topo -->
    <button class="back-to-top" type="button"></button>
    <!-- Fim botão voltar topo -->

    <!-- Início Script Module - Configurações do Firebase -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";

      import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-auth.js";

      import { getDatabase, set, ref, update, child, get } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyBvK3i0HHSKT_QRdzxQ8NE20_iSvAuSZ7g",
        authDomain: "fir-authenticator-f495b.firebaseapp.com",
        databaseURL: "https://fir-authenticator-f495b-default-rtdb.firebaseio.com",
        projectId: "fir-authenticator-f495b",
        storageBucket: "fir-authenticator-f495b.appspot.com",
        messagingSenderId: "982225175678",
        appId: "1:982225175678:web:d51b2dd118469bbd08442f"
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth();
      const database = getDatabase(app);
      const db = getDatabase();

      /* REFERÊNCIAS */
      const nome = document.getElementById('nomeInputSignUp');
      const nomeIcon = document.getElementById('nomeIcon');
      const email = document.getElementById('emailInputSignUp');
      const password = document.getElementById('pswInputSignUp');
      const senhaIcon2 = document.getElementById('eye-cadastro');
      const confirmPassword = document.getElementById('pswInputConfirmSignUp');
      const confirmaSenhaIcon2 = document.getElementById('eye-confirm-cadastro');
      const departamento = document.getElementById('departamentoInputSignUp')
      const formacao = document.getElementById('formacao');
      const objetivo = document.getElementById('objetivo');

      /* VALIDAÇÃO */
      function isEmptyOrSpaces(str) {
        return str === null || str.match(/^ *$/) !== null;
      }

      const errorMessageNome = document.getElementById('errorMessageNome');
      const errorMessageEmail = document.getElementById('errorMessageEmail');
      const errorMessageSenha = document.getElementById('errorMessageSenha');
      const errorMessageConfirmaSenha = document.getElementById('errorMessageConfirmaSenha');
      const errorMessageDepartamento = document.getElementById('errorMessageDepartamento');
      const errorMessageForm = document.getElementById('errorMessageForm');

      var error = '';

      function Validation() {
        let nameregex = /^[a-zA-Z\s]+$/;
        let emailregex = /^[\w-\.]+@([a-z])+.(com|com.br|br)$/;
        let passwordregex = /^(?=.*[A-Z])(?=.*[!@#$&*])[0-9a-zA-Z$*&@#!]{6,}$/
        let departamentoregex = /^[a-zA-Z0-9\s]+$/;

        if(isEmptyOrSpaces(nome.value) && isEmptyOrSpaces(email.value) && isEmptyOrSpaces(password.value) && isEmptyOrSpaces(confirmPassword.value) && isEmptyOrSpaces(departamento.value)) {
          ValidCamposIncorretos(error = 'Você não pode deixar nenhum campo vazio.');
          return false;
        }

        else if(isEmptyOrSpaces(nome.value)) {
          ValidNomeIncorreto(error = 'Você não pode deixar o campo de Nome vazio.');
          return false;
        }

        else if(isEmptyOrSpaces(email.value)) {
          ValidEmailIncorreto(error = 'Você não pode deixar o campo de Email vazio.');
          return false;
        }

        else if(isEmptyOrSpaces(password.value)) {
          ValidSenhaIncorreta(error = 'Você não pode deixar o campo de Senha vazio.');
          return false;
        }

        else if(isEmptyOrSpaces(confirmPassword.value)) {
          ValidConfirmaSenhaIncorreta(error = 'Você não pode deixar o campo de Confirmar Senha vazio.');
          return false;
        }

        else if(password.value != confirmPassword.value) {
          ValidSenhasIncorretas(error = 'As senhas não coincidem, favor tentar novamente.');
          return false;
        }

        else if(isEmptyOrSpaces(departamento.value)) {
          ValidDepartamentoIncorreto(error = 'Você não pode deixar o campo de Departamento vazio.');
          return false;
        }

        else if(!nameregex.test(nome.value)) {
          ValidNomeIncorreto(error = 'O nome deve conter apenas caracteres do alfabeto.');
          return false;
        }

        else if(!emailregex.test(email.value)) {
          ValidEmailIncorreto(error = 'Email inválido ou não existe.');
          return false;
        }

        else if(!passwordregex.test(password.value) || !passwordregex.test(confirmPassword.value)) {
          ValidSenhasIncorretas(error = 'o A senha deve conter ao menos uma letra maiúscula;\no A senha deve conter ao menos um caractere especial (!@#$&*);\no A senha deve conter mais de 6 caracteres.');
          return false;
        }

        else{
          ValidCamposCorretos(error = '');
          return true;
        }
      }

      function ValidCamposIncorretos() {
        nomeInputSignUp.classList.add("is-invalid");
        nomeIcon.classList.add('invalid');
        emailInputSignUp.classList.add("is-invalid");
        emailIcon.classList.add('invalid');
        pswInputSignUp.classList.add("is-invalid");
        senhaIcon.classList.add('invalid');
        senhaIcon2.classList.add('invalid');
        pswInputConfirmSignUp.classList.add("is-invalid");
        confirmaSenhaIcon.classList.add('invalid');
        confirmaSenhaIcon2.classList.add('invalid');
        departamentoInputSignUp.classList.add("is-invalid");
        departamentoIcon.classList.add('invalid');
        errorMessageForm.innerText = error;
        errorMessageForm.classList.replace('d-none','d-block');
      }

      function ValidNomeIncorreto() {
        nomeInputSignUp.classList.add("is-invalid");
        nomeIcon.classList.add('invalid');
        emailInputSignUp.classList.remove("is-invalid");
        emailIcon.classList.remove('invalid');
        pswInputSignUp.classList.remove("is-invalid");
        senhaIcon.classList.remove('invalid');
        senhaIcon2.classList.remove('invalid');
        pswInputConfirmSignUp.classList.remove("is-invalid");
        confirmaSenhaIcon.classList.remove('invalid');
        confirmaSenhaIcon2.classList.remove('invalid');
        departamentoInputSignUp.classList.remove("is-invalid");
        departamentoIcon.classList.remove('invalid');
        errorMessageNome.innerText = error;
        errorMessageNome.classList.replace('d-none','d-block');
        errorMessageEmail.classList.replace('d-block','d-none');
        errorMessageSenha.classList.replace('d-block','d-none');
        errorMessageConfirmaSenha.classList.replace('d-block','d-none');
        errorMessageDepartamento.classList.replace('d-block','d-none');
        errorMessageForm.classList.replace('d-block','d-none');
      }

      function ValidEmailIncorreto() {
        nomeInputSignUp.classList.remove("is-invalid");
        nomeIcon.classList.remove('invalid');
        emailInputSignUp.classList.add("is-invalid");
        emailIcon.classList.add('invalid');
        pswInputSignUp.classList.remove("is-invalid");
        senhaIcon.classList.remove('invalid');
        senhaIcon2.classList.remove('invalid');
        pswInputConfirmSignUp.classList.remove("is-invalid");
        confirmaSenhaIcon.classList.remove('invalid');
        confirmaSenhaIcon2.classList.remove('invalid');
        departamentoInputSignUp.classList.remove("is-invalid");
        departamentoIcon.classList.remove('invalid');
        errorMessageEmail.innerText = error;
        errorMessageEmail.classList.replace('d-none','d-block');
        errorMessageNome.classList.replace('d-block','d-none');
        errorMessageSenha.classList.replace('d-block','d-none');
        errorMessageConfirmaSenha.classList.replace('d-block','d-none');
        errorMessageDepartamento.classList.replace('d-block','d-none');
        errorMessageForm.classList.replace('d-block','d-none');
      }

      function ValidSenhaIncorreta() {
        nomeInputSignUp.classList.remove("is-invalid");
        nomeIcon.classList.remove('invalid');
        emailInputSignUp.classList.remove("is-invalid");
        emailIcon.classList.remove('invalid');
        pswInputSignUp.classList.add("is-invalid");
        senhaIcon.classList.add('invalid');
        senhaIcon2.classList.add('invalid');
        pswInputConfirmSignUp.classList.remove("is-invalid");
        confirmaSenhaIcon.classList.remove('invalid');
        confirmaSenhaIcon2.classList.remove('invalid');
        departamentoInputSignUp.classList.remove("is-invalid");
        departamentoIcon.classList.remove('invalid');
        errorMessageSenha.innerText = error;
        errorMessageSenha.classList.replace('d-none','d-block');
        errorMessageNome.classList.replace('d-block','d-none');
        errorMessageEmail.classList.replace('d-block','d-none');
        errorMessageConfirmaSenha.classList.replace('d-block','d-none');
        errorMessageDepartamento.classList.replace('d-block','d-none');
        errorMessageForm.classList.replace('d-block','d-none');
      }

      function ValidConfirmaSenhaIncorreta() {
        nomeInputSignUp.classList.remove("is-invalid");
        nomeIcon.classList.remove('invalid');
        emailInputSignUp.classList.remove("is-invalid");
        emailIcon.classList.remove('invalid');
        pswInputSignUp.classList.remove("is-invalid");
        senhaIcon.classList.remove('invalid');
        senhaIcon2.classList.remove('invalid');
        pswInputConfirmSignUp.classList.add("is-invalid");
        confirmaSenhaIcon.classList.add('invalid');
        confirmaSenhaIcon2.classList.add('invalid');
        departamentoInputSignUp.classList.remove("is-invalid");
        departamentoIcon.classList.remove('invalid');
        errorMessageConfirmaSenha.innerText = error;
        errorMessageConfirmaSenha.classList.replace('d-none','d-block');
        errorMessageNome.classList.replace('d-block','d-none');
        errorMessageEmail.classList.replace('d-block','d-none');
        errorMessageSenha.classList.replace('d-block','d-none');
        errorMessageDepartamento.classList.replace('d-block','d-none');
        errorMessageForm.classList.replace('d-block','d-none');
      }

      function ValidSenhasIncorretas() {
        nomeInputSignUp.classList.remove("is-invalid");
        nomeIcon.classList.remove('invalid');
        emailInputSignUp.classList.remove("is-invalid");
        emailIcon.classList.remove('invalid');
        pswInputSignUp.classList.add("is-invalid");
        senhaIcon.classList.add('invalid');
        senhaIcon2.classList.add('invalid');
        pswInputConfirmSignUp.classList.add("is-invalid");
        confirmaSenhaIcon.classList.add('invalid');
        confirmaSenhaIcon2.classList.add('invalid');
        departamentoInputSignUp.classList.remove("is-invalid");
        departamentoIcon.classList.remove('invalid');
        errorMessageConfirmaSenha.innerText = error;
        errorMessageConfirmaSenha.classList.replace('d-none','d-block');
        errorMessageNome.classList.replace('d-block','d-none');
        errorMessageEmail.classList.replace('d-block','d-none');
        errorMessageSenha.classList.replace('d-block','d-none');
        errorMessageDepartamento.classList.replace('d-block','d-none');
        errorMessageForm.classList.replace('d-block','d-none');
      }

      function ValidDepartamentoIncorreto() {
        nomeInputSignUp.classList.remove("is-invalid");
        nomeIcon.classList.remove('invalid');
        emailInputSignUp.classList.remove("is-invalid");
        emailIcon.classList.remove('invalid');
        pswInputSignUp.classList.remove("is-invalid");
        senhaIcon.classList.remove('invalid');
        senhaIcon2.classList.remove('invalid');
        pswInputConfirmSignUp.classList.remove("is-invalid");
        confirmaSenhaIcon.classList.remove('invalid');
        confirmaSenhaIcon2.classList.remove('invalid');
        departamentoInputSignUp.classList.add("is-invalid");
        departamentoIcon.classList.add('invalid');
        errorMessageDepartamento.innerText = error;
        errorMessageDepartamento.classList.replace('d-none','d-block');
        errorMessageNome.classList.replace('d-block','d-none');
        errorMessageEmail.classList.replace('d-block','d-none');
        errorMessageSenha.classList.replace('d-block','d-none');
        errorMessageConfirmaSenha.classList.replace('d-block','d-none');
        errorMessageForm.classList.replace('d-block','d-none');
      }

      function ValidCamposCorretos() {
        nomeInputSignUp.classList.remove("is-invalid");
        nomeIcon.classList.remove('invalid');
        emailInputSignUp.classList.remove("is-invalid");
        emailIcon.classList.remove('invalid');
        pswInputSignUp.classList.remove("is-invalid");
        senhaIcon.classList.remove('invalid');
        senhaIcon2.classList.remove('invalid');
        pswInputConfirmSignUp.classList.remove("is-invalid");
        confirmaSenhaIcon.classList.remove('invalid');
        confirmaSenhaIcon2.classList.remove('invalid');
        departamentoInputSignUp.classList.remove("is-invalid");
        departamentoIcon.classList.remove('invalid');
        errorMessageNome.classList.replace('d-block','d-none');
        errorMessageEmail.classList.replace('d-block','d-none');
        errorMessageSenha.classList.replace('d-block','d-none');
        errorMessageConfirmaSenha.classList.replace('d-block','d-none');
        errorMessageDepartamento.classList.replace('d-block','d-none');
        errorMessageForm.classList.replace('d-block','d-none');
      }

      /* CADASTRO */
      cadastrarse.addEventListener('click', (e) => {
        if(!Validation()) {
          return;
        }

        else{
          var nome = document.getElementById('nomeInputSignUp').value;
          var email = document.getElementById('emailInputSignUp').value;
          var password = document.getElementById('pswInputSignUp').value;
          var departamento = document.getElementById('departamentoInputSignUp').value
          var formacao = document.getElementById('formacao').value;
          var objetivo = document.getElementById('objetivo').value;
          var successMessage = document.getElementById('successMessage');

          var message = '';

          const dbRef = ref(db);

          get(child(dbRef, "Usuários/"+ nome)).then((snapshot)=>{
            if(snapshot.exists()) {
              ValidNomeIncorreto(error = 'O nome de usuário já está sendo utilizado.');
            }

            else{
              createUserWithEmailAndPassword(auth, email, password)
              .then((userCredential) => {
                const user = userCredential.user;

                set(ref(database, 'Usuários/' + nome), {
                  nome: nome,
                  email: email,
                  senha: password,
                  departamento: departamento,
                  formacao: formacao,
                  objetivo: objetivo
                })
                .then(() => {
                  ValidCamposCorretos();
                  successMessage.classList.replace('d-none','d-block');
                  message = 'Usuário criado com sucesso!';
                  successMessage.innerText = message;

                  setTimeout(function(){
                    successMessage.classList.replace('d-block','d-none');
                    message = null;
                    window.location="login.html";
                  },2000);
                })
                .catch((error) => {
                  alert(error);
                });
              })
              .catch((error) => {
                if(error.code == "auth/email-already-in-use"){
                  ValidEmailIncorreto(error = 'Este email já está vinculado a uma conta.');
                  errorMessageEmail.innerText = error;
                }

                else if(error.code == "auth/invalid-email"){
                  ValidEmailIncorreto(error = 'Email inválido ou não existe.');
                  errorMessageEmail.innerText = error;
                }

                else if(error.code == "auth/invalid-password"){
                  ValidSenhasIncorretas(error = 'o A senha deve conter ao menos uma letra maiúscula;\no A senha deve conter ao menos um caractere especial (!@#$&*);\no A senha deve conter mais de 6 caracteres.');
                  errorMessageConfirmaSenha.innerText = error;
                }

                else{
                  const errorCode = error.code;
                  const errorMessage = error.message;
                  alert(errorMessage);
                }
              });
            }
          });
        }
      });
      
      /* LOG IN */
      iniciarSessao.addEventListener('click', (e) => {
        /* REFERÊNCIAS */
        var email = document.getElementById('emailInputSignIn').value;
        var iconEmail = document.getElementById('iconEmailSignIn');
        var password = document.getElementById('pswInputSignIn').value;
        var iconSenha = document.getElementById('iconSenhaSignIn');
        var iconSenha2 = document.getElementById('eye-login');

        /* VALIDAÇÃO */
        var errorMessageEmailSignIn = document.getElementById('errorMessageEmailSignIn');
        var errorMessageEmailSignIn = document.getElementById('errorMessageEmailSignIn');
        var errorMessageSenhaSignIn = document.getElementById('errorMessageSenhaSignIn');

        var error = '';

        function ValidationSignIn() {
          if(isEmptyOrSpaces(email) && isEmptyOrSpaces(password)) {
            ValidCamposInorretosSignIn(error = 'Você não pode deixar nenhum campo vazio.');
            return false;
          }

          else if(isEmptyOrSpaces(email)) {
            ValidEmailIncorretoSignIn(error = 'Você não pode deixar o campo de Email vazio.');
            return false;
          }

          else if(isEmptyOrSpaces(password)) {
            ValidSenhaIncorretaSignIn(error = 'Você não pode deixar o campo de Senha vazio.');
            return false;
          }

          else{
            ValidCamposCorretosSignIn(error = '');
            return true;
          }
        }

        function ValidEmailIncorretoSignIn() {
          emailInputSignIn.classList.add("is-invalid");
          iconEmail.classList.add('invalid');
          pswInputSignIn.classList.remove("is-invalid");
          iconSenha.classList.remove('invalid');
          iconSenha2.classList.remove('invalid');
          errorMessageEmailSignIn.innerText = error;
          errorMessageEmailSignIn.classList.replace('d-none','d-block');
          errorMessageSenhaSignIn.classList.replace('d-block','d-none');
        }

        function ValidSenhaIncorretaSignIn() {
          emailInputSignIn.classList.remove("is-invalid");
          iconEmail.classList.remove('invalid');
          pswInputSignIn.classList.add("is-invalid");
          iconSenha.classList.add('invalid');
          iconSenha2.classList.add('invalid');
          errorMessageEmailSignIn.classList.replace('d-block','d-none');
          errorMessageSenhaSignIn.innerText = error;
          errorMessageSenhaSignIn.classList.replace('d-none','d-block');
        }

        function ValidCamposInorretosSignIn() {
          emailInputSignIn.classList.add("is-invalid");
          iconEmail.classList.add('invalid');
          pswInputSignIn.classList.add("is-invalid");
          iconSenha.classList.add('invalid');
          iconSenha2.classList.add('invalid');
          errorMessageSenhaSignIn.innerText = error;
          errorMessageSenhaSignIn.classList.replace('d-none','d-block');
        }

        function ValidCamposCorretosSignIn() {
          emailInputSignIn.classList.remove("is-invalid");
          iconEmail.classList.remove('invalid');
          pswInputSignIn.classList.remove("is-invalid");
          iconSenha.classList.remove('invalid');
          iconSenha2.classList.remove('invalid');
          errorMessageEmailSignIn.classList.replace('d-block','d-none');
          errorMessageSenhaSignIn.classList.replace('d-block','d-none');
        }

        if(!ValidationSignIn()) {
          return;
        }

        else{
          var successMessageSignIn = document.getElementById('successMessageSignIn');
          var message = '';

          signInWithEmailAndPassword(auth, email, password)
          .then((userCredential) => {
            const user = userCredential.user;

            ValidCamposCorretosSignIn();
            successMessageSignIn.classList.replace('d-none','d-block');
            message = 'Login efetuado com sucesso!';
            successMessageSignIn.innerText = message;

            LembrarUsuario(user);

            setTimeout(function(){
              successMessageSignIn.classList.replace('d-block','d-none');
              message = null;
              window.location = "index.html";
            },2000);
          })
          .catch((error) => {
            if(error.code == "auth/user-not-found"){
              ValidEmailIncorretoSignIn(error = 'Email inválido ou não existe.');
              errorMessageEmailSignIn.innerText = error;
            }

            else if(error.code == "auth/invalid-email"){
              ValidEmailIncorretoSignIn(error = 'Email inválido ou não existe.');
              errorMessageEmailSignIn.innerText = error;
            }

            else if(error.code == "auth/wrong-password"){
              ValidSenhaIncorretaSignIn(error = 'Senha incorreta. Tente novamente ou clique em "Esqueceu a senha?" para redefini-la.');
              errorMessageSenhaSignIn.innerText = error;
            }

            else if(error.code == "auth/user-disabled"){
              ValidCamposInorretosSignIn(error = 'Esta conta foi desativada. Tente novamente acessando em outra conta.');
              errorMessageSenhaSignIn.innerText = error;
            }

            else{
              const errorCode = error.code;
              const errorMessage = error.message;
              alert(errorMessage);
            }
          });
        }

        signOut(auth).then(() => {
          // Sign-out successful.
        }).catch((error) => {
          // An error happened.
        });

        function LembrarUsuario(user) {
          let lembrarUsuario = document.getElementById('checkboxLembrarUsuario').checked;
          var usernameInput =  document.getElementById('emailInputSignIn');

          if(lembrarUsuario) {
            sessionStorage.setItem("email", usernameInput.value);
            sessionStorage.setItem("user", JSON.stringify(user));
          }else{
            localStorage.setItem("email", usernameInput.value);
            localStorage.setItem("user", JSON.stringify(user));
            localStorage.setItem("lembrarUsuario", "check");
          }
        }
      });
    </script>
    <!-- Fim Script Module - Configurações do Firebase -->

    <!-- Optional JavaScript -->

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <!-- -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
    <script src='https://cdn.jsdelivr.net/waves/0.7.5/waves.min.js'></script>

    <!-- Preloader -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

    <!-- Select cadastro -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-scrollTo/2.1.1/jquery.scrollTo.min.js'></script>
    <!-- Select cadastro -->

    <script src="../js/main.js"></script>
    <script src="../js/login.js"></script>
  </body>
</html>